!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var o,a,d,c,u,f,e,t,i,n,s,r,l,g,h;o=Object.create,a=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,i=(e=(e,t)=>function(){return t||(0,e[c(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}}),n=e({"node_modules/arrive/src/arrive.js"(){!function(d,e,g){"use strict";var n,h,i,t,r,s,o;if(d.MutationObserver&&"undefined"!=typeof HTMLElement)n=0,i=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,h={matchesSelector:function(e,t){return e instanceof HTMLElement&&i.call(e,t)},addMethod:function(e,t,i){var n=e[t];e[t]=function(){return i.length==arguments.length?i.apply(this,arguments):"function"==typeof n?n.apply(this,arguments):void 0}},callCallbacks:function(e,t,i){if(e.length){t&&t.options.onceOnly&&(e=[e[0]],t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback));for(var n,r=0;n=e[r];r++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.callback&&i&&i.addTimeoutHandler(t.target,t.selector,t.callback,t.options,t.data)}},checkChildNodesRecursively:function(e,t,i,n){for(var r,l=0;r=e[l];l++)i(r,t,n)&&n.push({callback:t.callback,elem:r}),0<r.childNodes.length&&h.checkChildNodesRecursively(r.childNodes,t,i,n)},mergeArrays:function(e,t){var i,n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},toElementsArray:function(e){return e=void 0===e||"number"==typeof e.length&&e!==d?e:[e]}},l.prototype.addEvent=function(e,t,i,n,r){e={target:e,selector:t,options:i,callback:n,data:r,firedElems:[]};return this._beforeAdding&&this._beforeAdding(e),this._eventsBucket.push(e),e},l.prototype.removeEvent=function(e){for(var t,i=this._eventsBucket.length-1;t=this._eventsBucket[i];i--)e(t)&&(this._beforeRemoving&&this._beforeRemoving(t),t.data&&t.data.timeoutId&&clearTimeout(t.data.timeoutId),t=this._eventsBucket.splice(i,1))&&t.length&&(t[0].callback=null)},l.prototype.beforeAdding=function(e){this._beforeAdding=e},l.prototype.beforeRemoving=function(e){this._beforeRemoving=e},t=l,r=function(r,l){var s=new t,o=this,a={fireOnAttributesModification:!1};return s.beforeAdding(function(t){var e,i=t.target,n=(i!==d.document&&i!==d||(i=document.getElementsByTagName("html")[0]),e=new MutationObserver(function(e){l.call(this,e,t)}),r(t.options));e.observe(i,n),t.observer=e,t.me=o}),s.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,i){t=h.mergeArrays(a,t);for(var n=h.toElementsArray(this),r=0;r<n.length;r++){var l={};o.addTimeoutHandler(n[r],e,i,t,l),s.addEvent(n[r],e,t,i,l)}},this.unbindEvent=function(){var i=h.toElementsArray(this);s.removeEvent(function(e){for(var t=0;t<i.length;t++)if(this===g||e.target===i[t])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(i){var n=h.toElementsArray(this),r=i,e="function"==typeof i?function(e){for(var t=0;t<n.length;t++)if((this===g||e.target===n[t])&&e.callback===r)return!0;return!1}:function(e){for(var t=0;t<n.length;t++)if((this===g||e.target===n[t])&&e.selector===i)return!0;return!1};s.removeEvent(e)},this.unbindEventWithSelectorAndCallback=function(i,n){var r=h.toElementsArray(this);s.removeEvent(function(e){for(var t=0;t<r.length;t++)if((this===g||e.target===r[t])&&e.selector===i&&e.callback===n)return!0;return!1})},this.addTimeoutHandler=function(e,t,i,n,r){!n.timeout||n.timeout<=0||(r.timeoutId&&clearTimeout(r.timeoutId),r.timeoutId=setTimeout(()=>{o.unbindEventWithSelectorAndCallback.call(e,t,i),i.call(null,null)},n.timeout))},this},s=new function(){var u={fireOnAttributesModification:!1,onceOnly:!1,existing:!1,timeout:0};function l(e,t,i){return!(!h.matchesSelector(e,t.selector)||(e._id===g&&(e._id=n++),-1!=t.firedElems.indexOf(e._id))||(t.firedElems.push(e._id),0))}var f=(s=new r(function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t},function(e,r){e.forEach(function(e){var t=e.addedNodes,i=e.target,n=[];null!==t&&0<t.length?h.checkChildNodesRecursively(t,r,l,n):"attributes"===e.type&&l(i,r)&&n.push({callback:r.callback,elem:i}),h.callCallbacks(n,r,s)})})).bindEvent;return s.bindEvent=function(t,e,i){var n,r="object"==typeof e?h.mergeArrays(u,e):{...u},l="function"==typeof i?i:"function"==typeof e?e:g,s=h.toElementsArray(this);if(l||(r.onceOnly=!0),r.existing){for(var o=[],a=0;a<s.length;a++)for(var d=s[a].querySelectorAll(t),c=0;c<d.length;c++)o.push({callback:l,elem:d[c]});if(r.onceOnly&&o.length)return l?l.call(o[0].elem,o[0].elem):Promise.resolve(o[0].elem);setTimeout(h.callCallbacks,1,o)}if(!l)return n=this,new Promise(e=>f.call(n,t,r,e));f.call(this,t,r,l)},s},o=new function(){var l={onceOnly:!1,timeout:0};function n(e,t){return h.matchesSelector(e,t.selector)}var s=(o=new r(function(){return{childList:!0,subtree:!0}},function(e,i){e.forEach(function(e){var e=e.removedNodes,t=[];null!==e&&0<e.length&&h.checkChildNodesRecursively(e,i,n,t),h.callCallbacks(t,i,o)})})).bindEvent;return o.bindEvent=function(t,e,i){var n,r="object"==typeof e?h.mergeArrays(l,e):{...l},i="function"==typeof i?i:"function"==typeof e?e:g;if(!i)return r.onceOnly=!0,n=this,new Promise(e=>s.call(n,t,r,e));s.call(this,t,r,i)},o},e&&c(e.fn),c(HTMLElement.prototype),c(NodeList.prototype),c(HTMLCollection.prototype),c(HTMLDocument.prototype),c(Window.prototype),a(s,e={},"unbindAllArrive"),a(o,e,"unbindAllLeave");function l(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null}function a(e,t,i){h.addMethod(t,i,e.unbindEvent),h.addMethod(t,i,e.unbindEventWithSelectorOrCallback),h.addMethod(t,i,e.unbindEventWithSelectorAndCallback)}function c(e){e.arrive=s.bindEvent,a(s,e,"unbindArrive"),e.leave=o.bindEvent,a(o,e,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0)}}),s=(t=(e,t,i)=>{i=null!=e?o(u(e)):{};var n=!t&&e&&e.__esModule?i:a(i,"default",{value:e,enumerable:!0}),r=e,l=void 0,s=void 0;if(r&&"object"==typeof r||"function"==typeof r)for(let e of c(r))f.call(n,e)||e===l||a(n,e,{get:()=>r[e],enumerable:!(s=d(r,e))||s.enumerable});return n})(e({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}})()),r=t(i()),(g=l=class{get elementId(){return""+l.IdPrefixes.elementIdPrefix+this._id}get element(){return this.button.element}constructor(e,t,i,n){this._id=e;e=`
        <svg class="e-91000-icon e-91000-baseline" style="--encore-icon-height: var(--encore-graphic-size-decorative-smaller); --encore-icon-width: var(--encore-graphic-size-decorative-smaller);" viewBox="0 0 16 16">
          ${l.icons.fromString(i)}
        </svg>
    `;this.button=new Spicetify.Playbar.Button("Volume Profile: "+this._id,e,e=>{Spicetify.Player.setVolume(this.volume/100)},!1,!1,!0),this.element.id=this.elementId,this.element.children[0].classList.add("e-91000-button__icon-wrapper"),this.element.addEventListener("contextmenu",e=>{this.volume=100*Spicetify.Player.getVolume(),Spicetify.showNotification(`Volume of "${this._id}" changed to `+this.toString()),l.Settings.section.setFieldValue(this.settingId,this.volume.toString()),l.Settings.section.rerender()}),Number.isNaN(this.volume)&&(this.volume=t),n&&(this.bind=n)}get localStorageId(){return l.IdPrefixes.localStorageIdPrefix+this._id}get settingId(){return l.IdPrefixes.settingIdPrefix+this._id}get volume(){var e=l.Settings.section.getFieldValue(this.settingId);return Number(e)}set volume(e){l.Settings.section.setFieldValue(this.settingId,e.toFixed(2))}get bind(){return l.Settings.section.getFieldValue(l.IdPrefixes.bindIdPrefix+this._id)||""}set bind(e){l.Settings.section.setFieldValue(l.IdPrefixes.bindIdPrefix+this._id,e),this.registerBind(e)}static isValidVolume(e){return!(""===e||Number.isNaN(Number(e))||Number(e)<0||100<Number(e))}registerButton(){this.button.register()}registerSetting(){l.Settings.section.addInput(this.settingId,`Volume of Profile "${this._id}"`,this.toString(),()=>{var e=l.Settings.section.getFieldValue(this.settingId);l.isValidVolume(e)&&l.Settings.section.setFieldValue(this.settingId,e)}),l.Settings.section.addInput(l.IdPrefixes.bindIdPrefix+this._id,`Bind for Profile "${this._id}"`,this.bind,()=>{this.bind=l.Settings.section.getFieldValue(l.IdPrefixes.bindIdPrefix+this._id)})}register(){this.registerButton(),this.registerSetting()}toString(){return this.volume.toFixed(2)}click(){this.element.click()}registerBind(e){Spicetify.Mousetrap.unbind(e),Spicetify.Mousetrap.bind(e,()=>(this.click(),!0))}}).icons={get low(){return'<path d="M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 4.29V5.56a2.75 2.75 0 010 4.88z"></path>'},get speakerOnly(){return'<path d="M13.86 5.47a.75.75 0 00-1.061 0l-1.47 1.47-1.47-1.47A.75.75 0 008.8 6.53L10.269 8l-1.47 1.47a.75.75 0 101.06 1.06l1.47-1.47 1.47 1.47a.75.75 0 001.06-1.06L12.39 8l1.47-1.47a.75.75 0 000-1.06z"></path>'},get high(){return l.icons.low+'<path d="M11.5 13.614a5.752 5.752 0 000-11.228v1.55a4.252 4.252 0 010 8.127v1.55z"></path>'},get medium(){return'<path d="M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 6.087a4.502 4.502 0 000-8.474v1.65a2.999 2.999 0 010 5.175v1.649z"></path>'},get mute(){return l.icons.speakerOnly+'<path d="M10.116 1.5A.75.75 0 008.991.85l-6.925 4a3.642 3.642 0 00-1.33 4.967 3.639 3.639 0 001.33 1.332l6.925 4a.75.75 0 001.125-.649v-1.906a4.73 4.73 0 01-1.5-.694v1.3L2.817 9.852a2.141 2.141 0 01-.781-2.92c.187-.324.456-.594.78-.782l5.8-3.35v1.3c.45-.313.956-.55 1.5-.694V1.5z"></path>'},fromString(e){switch(e){case"high":return l.icons.high;case"medium":return l.icons.medium;case"low":return l.icons.low;case"mute":return l.icons.mute;case"speakerOnly":return l.icons.speakerOnly;default:throw"Invalid icon string: "+e}}},g.IdPrefixes={ToggleSettingsId:"volume-profile-toggle-on-left-click",ToggleSettingsId2:"toggle-left-click-volume-profile",SettingsSectionId:"volume-profile-settings",settingIdPrefix:"settings-volume-profile-",bindIdPrefix:"bind-volume-profile-",localStorageIdPrefix:"localStorage-volume-profile-",elementIdPrefix:"volume-profile-button-"},g.Settings={isRegistered:!1,section:new class{constructor(e,t,i={}){this.name=e,this.settingsId=t,this.initialSettingsFields=i,this.settingsFields=this.initialSettingsFields,this.setRerender=null,this.pushSettings=async()=>{for(Object.entries(this.settingsFields).forEach(([e,t])=>{"button"!==t.type&&void 0===this.getFieldValue(e)&&this.setFieldValue(e,t.defaultValue)});!Spicetify?.Platform?.History?.listen;)await new Promise(e=>setTimeout(e,100));this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(e=>{"/preferences"===e.pathname&&this.render()}),"/preferences"===Spicetify.Platform.History.location.pathname&&await this.render()},this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())},this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if("/preferences"!==Spicetify.Platform.History.location.pathname)return;await new Promise(e=>setTimeout(e,100))}var e=document.querySelector(".main-view-container__scroll-node-child main div");if(!e)return console.error("[spcr-settings] settings container not found");let t=Array.from(e.children).find(e=>e.id===this.settingsId);t?console.log(t):((t=document.createElement("div")).id=this.settingsId,e.appendChild(t)),r.default.render(s.default.createElement(this.FieldsContainer,null),t)},this.addButton=(e,t,i,n,r)=>{this.settingsFields[e]={type:"button",description:t,value:i,events:{onClick:n,...r}}},this.addInput=(e,t,i,n,r,l)=>{this.settingsFields[e]={type:"input",description:t,defaultValue:i,inputType:r,events:{onChange:n,...l}}},this.addHidden=(e,t)=>{this.settingsFields[e]={type:"hidden",defaultValue:t}},this.addToggle=(e,t,i,n,r)=>{this.settingsFields[e]={type:"toggle",description:t,defaultValue:i,events:{onChange:n,...r}}},this.addDropDown=(e,t,i,n,r,l)=>{this.settingsFields[e]={type:"dropdown",description:t,defaultValue:i[n],options:i,events:{onSelect:r,...l}}},this.getFieldValue=e=>JSON.parse(Spicetify.LocalStorage.get(this.settingsId+"."+e)||"{}")?.value,this.setFieldValue=(e,t)=>{Spicetify.LocalStorage.set(this.settingsId+"."+e,JSON.stringify({value:t}))},this.FieldsContainer=()=>{var[e,t]=(0,s.useState)(0);return this.setRerender=t,s.default.createElement("div",{className:"x-settings-section",key:e},s.default.createElement("h2",{className:"TypeElement-cello-textBase-type"},this.name),Object.entries(this.settingsFields).map(([e,t])=>s.default.createElement(this.Field,{nameId:e,field:t})))},this.Field=i=>{var e=this.settingsId+"."+i.nameId;let t;if(t="button"===i.field.type?i.field.value:this.getFieldValue(i.nameId),"hidden"===i.field.type)return s.default.createElement(s.default.Fragment,null);const[n,r]=(0,s.useState)(t),l=e=>{void 0!==e&&(r(e),this.setFieldValue(i.nameId,e))};return s.default.createElement("div",{className:"x-settings-row"},s.default.createElement("div",{className:"x-settings-firstColumn"},s.default.createElement("label",{className:"TypeElement-viola-textSubdued-type",htmlFor:e},i.field.description||"")),s.default.createElement("div",{className:"x-settings-secondColumn"},"input"===i.field.type?s.default.createElement("input",{className:"x-settings-input",id:e,dir:"ltr",value:n,type:i.field.inputType||"text",...i.field.events,onChange:e=>{l(e.currentTarget.value);var t=i.field.events?.onChange;t&&t(e)}}):"button"===i.field.type?s.default.createElement("span",null,s.default.createElement("button",{id:e,className:"Button-sc-y0gtbx-0 Button-small-buttonSecondary-useBrowserDefaultFocusStyle x-settings-button",...i.field.events,onClick:e=>{l();var t=i.field.events?.onClick;t&&t(e)},type:"button"},n)):"toggle"===i.field.type?s.default.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},s.default.createElement("input",{id:e,className:"x-toggle-input",type:"checkbox",checked:n,...i.field.events,onClick:e=>{l(e.currentTarget.checked);var t=i.field.events?.onClick;t&&t(e)}}),s.default.createElement("span",{className:"x-toggle-indicatorWrapper"},s.default.createElement("span",{className:"x-toggle-indicator"}))):"dropdown"===i.field.type?s.default.createElement("select",{className:"main-dropDown-dropDown",id:e,...i.field.events,onChange:e=>{l(i.field.options[e.currentTarget.selectedIndex]);var t=i.field.events?.onChange;t&&t(e)}},i.field.options.map((e,t)=>s.default.createElement("option",{selected:e===n,value:t+1},e))):s.default.createElement(s.default.Fragment,null)))}}}("Volume Profile Settings",l.IdPrefixes.SettingsSectionId),set ToggleSettings(e){l.Settings.section.setFieldValue(l.IdPrefixes.ToggleSettingsId,e)},get ToggleSettings(){return l.Settings.section.getFieldValue(l.IdPrefixes.ToggleSettingsId)},register(){if(l.Settings.isRegistered)throw"Settings already registered";l.Settings.section.addToggle(l.IdPrefixes.ToggleSettingsId2,"Set Volume Profile on left click",l.Settings.ToggleSettings,()=>{l.Settings.ToggleSettings=l.Settings.section.getFieldValue(l.IdPrefixes.ToggleSettingsId2)}),l.Settings.section.pushSettings().then(()=>{l.Settings.isRegistered=!0})}},n(),h=async function(){for(;null==Spicetify||!Spicetify.Player||null==Spicetify||!Spicetify.LocalStorage||null==Spicetify||!Spicetify.Mousetrap;)await new Promise(e=>setTimeout(e,100));console.log("Volume Profiles loading...");const t={left:new g("left",30,"low","f13"),middle:new g("middle",50,"medium","f14"),right:new g("right",80,"high","f15")};g.Settings.register(),document.arrive("#"+t.right.elementId,()=>{console.log("Volume Profiles loaded.");var e=document.getElementsByClassName("main-nowPlayingBar-extraControls")[0];if(!e)throw"Could not find main-nowPlayingBar-extraControls";Array.from(e.children);e.insertBefore(t.left.element,t.middle.element),e.insertBefore(t.right.element,t.middle.element.nextSibling)})},(async()=>{await h()})()}();